(this["webpackJsonpactors-crossover-react-2"]=this["webpackJsonpactors-crossover-react-2"]||[]).push([[0],{63:function(e,t,r){},70:function(e,t,r){},72:function(e,t,r){},73:function(e,t,r){"use strict";r.r(t);var c,n,a,o=r(3),s=r.n(o),i=r(54),l=r.n(i),d=(r(63),r(58)),u=r(29),j=r(16),b=r(31),h=r(21),v=r(41),O={};!function(e){e.Public="PUBLIC",e.Private="PRIVATE"}(a||(a={}));var g=Object(j.gql)(c||(c=Object(v.a)(["\n    query ActorSearch($queryString: String!) {\n  actorSearch(queryString: $queryString, page: 1) {\n    results {\n      id\n      name\n    }\n    meta {\n      totalResults\n      totalPages\n    }\n  }\n}\n    "])));var f=Object(j.gql)(n||(n=Object(v.a)(["\n    query CrossoverMovies($actorIds: [Int!]!) {\n  crossoverMovies(actorIds: $actorIds) {\n    id\n    title\n    crossoverCredits {\n      actorId\n      characterName\n    }\n  }\n}\n    "])));r(70);var m=r(4);function p(e){var t=Object(o.useState)(""),r=Object(u.a)(t,2),c=r[0],n=r[1],a=function(e){var t=Object(h.a)(Object(h.a)({},O),e);return j.useQuery(g,t)}({variables:{queryString:c},skip:c.length<=2}),s=a.loading,i=a.error,l=a.data;return Object(m.jsxs)("div",{className:"actor-search",children:[Object(m.jsx)("input",{type:"text",value:c,onChange:function(e){return n(e.target.value)}}),s&&Object(m.jsx)("p",{children:"loading..."}),i&&Object(m.jsxs)("p",{children:["error: ",i]}),(null===l||void 0===l?void 0:l.actorSearch)&&Object(m.jsx)("select",{onChange:function(t){var r=null===l||void 0===l?void 0:l.actorSearch.results.find((function(e){return e.id===Number(t.target.value)}));r&&e.onActorSelect(r)},children:l.actorSearch.results.map((function(e){return Object(m.jsx)("option",{value:e.id,children:e.name},e.id)}))})]})}function x(e){function t(e){var t=e.crossoverCredits.map((function(e){return"Actor ID: ".concat(e.actorId,", Character Name: ").concat(e.characterName)}));return"Title: ".concat(e.title,", credits: ").concat(t)}return Object(m.jsx)("ul",{children:e.movies.map((function(e){return Object(m.jsx)("li",{children:t(e)},e.id)}))})}r(72);var S=new j.ApolloClient({uri:"https://actors-crossover-gql.herokuapp.com/graphql",cache:new j.InMemoryCache});var I=function(){var e=Object(o.useState)([]),t=Object(u.a)(e,2),r=t[0],c=t[1],n=function(e){var t=Object(h.a)(Object(h.a)({},O),e);return j.useLazyQuery(f,t)}({client:S}),a=Object(u.a)(n,2),s=a[0],i=a[1],l=i.loading,v=i.error,g=i.data;return Object(m.jsx)(b.ApolloProvider,{client:S,children:Object(m.jsxs)("div",{className:"app",children:[Object(m.jsx)("h1",{children:"Actors-Crossover"}),Object(m.jsxs)("div",{className:"container",children:[Object(m.jsxs)("div",{className:"search",children:[Object(m.jsx)("h3",{children:"Select one or more actors"}),Object(m.jsx)(p,{onActorSelect:function(e){c([].concat(Object(d.a)(r),[e]))}}),Object(m.jsx)("ul",{children:r.map((function(e){return Object(m.jsxs)("li",{children:[e.name," (ID: ",e.id,")"]},e.id)}))})]}),Object(m.jsxs)("div",{className:"results",children:[Object(m.jsx)("button",{disabled:r.length<=1,onClick:function(){return s({variables:{actorIds:r.map((function(e){return e.id}))}})},children:"Find Movies"}),l&&Object(m.jsx)("p",{children:"loading..."}),v&&Object(m.jsxs)("p",{children:["error: ",v]}),(null===g||void 0===g?void 0:g.crossoverMovies)&&Object(m.jsx)(x,{movies:g.crossoverMovies})]})]}),Object(m.jsxs)("div",{className:"tmdb-api-link",children:[Object(m.jsx)("h4",{children:"Powered by The Movie Database API"}),Object(m.jsx)("a",{href:"https://www.themoviedb.org",target:"_blank",rel:"noreferrer",children:Object(m.jsx)("img",{alt:"Powered by The Movie DB",src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_1-5bdc75aaebeb75dc7ae79426ddd9be3b2be1e342510f8202baf6bffa71d7f5c4.svg"})})]})]})})},y=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,74)).then((function(t){var r=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,o=t.getTTFB;r(e),c(e),n(e),a(e),o(e)}))};l.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(I,{})}),document.getElementById("root")),y()}},[[73,1,2]]]);
//# sourceMappingURL=main.7e204649.chunk.js.map