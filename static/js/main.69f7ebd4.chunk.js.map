{"version":3,"sources":["generated/graphql.ts","components/actor-search/index.tsx","components/crossover-movies/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["CacheControlScope","defaultOptions","ActorSearchDocument","gql","CrossoverMoviesDocument","ActorSearch","onActorSelect","useState","searchInput","setSearchInput","options","setOptions","baseOptions","Apollo","useActorSearchQuery","variables","queryString","skip","length","loading","data","useEffect","actorSearch","results","map","actorSearchResult","key","id","value","label","name","searchValue","onSearch","onSelect","find","showSearch","filterOption","optionLabelProp","notFoundContent","size","placeholder","style","width","CrossoverMovies","movies","formatMovie","movie","credits","crossoverCredits","credit","actorId","characterName","title","client","ApolloClient","uri","process","cache","InMemoryCache","App","selectedActors","setSelectedActors","useCrossoverMoviesLazyQuery","getCrossoverMovies","error","Header","margin","color","Content","padding","gutter","xs","md","className","type","disabled","onClick","actorIds","crossoverMovies","Footer","textAlign","direction","href","target","rel","alt","src","height","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.69f7ebd4.chunk.js","sourcesContent":["import { gql } from '@apollo/client';\nimport * as Apollo from '@apollo/client';\nexport type Maybe<T> = T | null;\nexport type Exact<T extends { [key: string]: unknown }> = { [K in keyof T]: T[K] };\nexport type MakeOptional<T, K extends keyof T> = Omit<T, K> & { [SubKey in K]?: Maybe<T[SubKey]> };\nexport type MakeMaybe<T, K extends keyof T> = Omit<T, K> & { [SubKey in K]: Maybe<T[SubKey]> };\nconst defaultOptions =  {}\n/** All built-in and custom scalars, mapped to their actual values */\nexport type Scalars = {\n  ID: string;\n  String: string;\n  Boolean: boolean;\n  Int: number;\n  Float: number;\n  /** The `Upload` scalar type represents a file upload. */\n  Upload: any;\n};\n\n\nexport type ActorSearchResponse = {\n  __typename?: 'ActorSearchResponse';\n  results: Array<ActorSearchResult>;\n  meta: ActorSearchResponseMeta;\n};\n\nexport type ActorSearchResponseMeta = {\n  __typename?: 'ActorSearchResponseMeta';\n  page: Scalars['Int'];\n  totalResults: Scalars['Int'];\n  totalPages: Scalars['Int'];\n};\n\nexport type ActorSearchResult = {\n  __typename?: 'ActorSearchResult';\n  id: Scalars['Int'];\n  name: Scalars['String'];\n  profilePath?: Maybe<Scalars['String']>;\n};\n\nexport enum CacheControlScope {\n  Public = 'PUBLIC',\n  Private = 'PRIVATE'\n}\n\nexport type CrossoverMovie = {\n  __typename?: 'CrossoverMovie';\n  id: Scalars['Int'];\n  title: Scalars['String'];\n  profilePath?: Maybe<Scalars['String']>;\n  crossoverCredits: Array<MovieCastCredit>;\n};\n\nexport type MovieCastCredit = {\n  __typename?: 'MovieCastCredit';\n  actorId: Scalars['Int'];\n  movieId: Scalars['Int'];\n  characterName: Scalars['String'];\n};\n\nexport type Query = {\n  __typename?: 'Query';\n  _?: Maybe<Scalars['Boolean']>;\n  actorSearch: ActorSearchResponse;\n  crossoverMovies: Array<CrossoverMovie>;\n};\n\n\nexport type QueryActorSearchArgs = {\n  queryString: Scalars['String'];\n  page: Scalars['Int'];\n};\n\n\nexport type QueryCrossoverMoviesArgs = {\n  actorIds: Array<Scalars['Int']>;\n};\n\n\nexport type ActorSearchQueryVariables = Exact<{\n  queryString: Scalars['String'];\n}>;\n\n\nexport type ActorSearchQuery = (\n  { __typename?: 'Query' }\n  & { actorSearch: (\n    { __typename?: 'ActorSearchResponse' }\n    & { results: Array<(\n      { __typename?: 'ActorSearchResult' }\n      & Pick<ActorSearchResult, 'id' | 'name'>\n    )>, meta: (\n      { __typename?: 'ActorSearchResponseMeta' }\n      & Pick<ActorSearchResponseMeta, 'totalResults' | 'totalPages'>\n    ) }\n  ) }\n);\n\nexport type CrossoverMoviesQueryVariables = Exact<{\n  actorIds: Array<Scalars['Int']> | Scalars['Int'];\n}>;\n\n\nexport type CrossoverMoviesQuery = (\n  { __typename?: 'Query' }\n  & { crossoverMovies: Array<(\n    { __typename?: 'CrossoverMovie' }\n    & Pick<CrossoverMovie, 'id' | 'title'>\n    & { crossoverCredits: Array<(\n      { __typename?: 'MovieCastCredit' }\n      & Pick<MovieCastCredit, 'actorId' | 'characterName'>\n    )> }\n  )> }\n);\n\n\nexport const ActorSearchDocument = gql`\n    query ActorSearch($queryString: String!) {\n  actorSearch(queryString: $queryString, page: 1) {\n    results {\n      id\n      name\n    }\n    meta {\n      totalResults\n      totalPages\n    }\n  }\n}\n    `;\n\n/**\n * __useActorSearchQuery__\n *\n * To run a query within a React component, call `useActorSearchQuery` and pass it any options that fit your needs.\n * When your component renders, `useActorSearchQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useActorSearchQuery({\n *   variables: {\n *      queryString: // value for 'queryString'\n *   },\n * });\n */\nexport function useActorSearchQuery(baseOptions: Apollo.QueryHookOptions<ActorSearchQuery, ActorSearchQueryVariables>) {\n        const options = {...defaultOptions, ...baseOptions}\n        return Apollo.useQuery<ActorSearchQuery, ActorSearchQueryVariables>(ActorSearchDocument, options);\n      }\nexport function useActorSearchLazyQuery(baseOptions?: Apollo.LazyQueryHookOptions<ActorSearchQuery, ActorSearchQueryVariables>) {\n          const options = {...defaultOptions, ...baseOptions}\n          return Apollo.useLazyQuery<ActorSearchQuery, ActorSearchQueryVariables>(ActorSearchDocument, options);\n        }\nexport type ActorSearchQueryHookResult = ReturnType<typeof useActorSearchQuery>;\nexport type ActorSearchLazyQueryHookResult = ReturnType<typeof useActorSearchLazyQuery>;\nexport type ActorSearchQueryResult = Apollo.QueryResult<ActorSearchQuery, ActorSearchQueryVariables>;\nexport const CrossoverMoviesDocument = gql`\n    query CrossoverMovies($actorIds: [Int!]!) {\n  crossoverMovies(actorIds: $actorIds) {\n    id\n    title\n    crossoverCredits {\n      actorId\n      characterName\n    }\n  }\n}\n    `;\n\n/**\n * __useCrossoverMoviesQuery__\n *\n * To run a query within a React component, call `useCrossoverMoviesQuery` and pass it any options that fit your needs.\n * When your component renders, `useCrossoverMoviesQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useCrossoverMoviesQuery({\n *   variables: {\n *      actorIds: // value for 'actorIds'\n *   },\n * });\n */\nexport function useCrossoverMoviesQuery(baseOptions: Apollo.QueryHookOptions<CrossoverMoviesQuery, CrossoverMoviesQueryVariables>) {\n        const options = {...defaultOptions, ...baseOptions}\n        return Apollo.useQuery<CrossoverMoviesQuery, CrossoverMoviesQueryVariables>(CrossoverMoviesDocument, options);\n      }\nexport function useCrossoverMoviesLazyQuery(baseOptions?: Apollo.LazyQueryHookOptions<CrossoverMoviesQuery, CrossoverMoviesQueryVariables>) {\n          const options = {...defaultOptions, ...baseOptions}\n          return Apollo.useLazyQuery<CrossoverMoviesQuery, CrossoverMoviesQueryVariables>(CrossoverMoviesDocument, options);\n        }\nexport type CrossoverMoviesQueryHookResult = ReturnType<typeof useCrossoverMoviesQuery>;\nexport type CrossoverMoviesLazyQueryHookResult = ReturnType<typeof useCrossoverMoviesLazyQuery>;\nexport type CrossoverMoviesQueryResult = Apollo.QueryResult<CrossoverMoviesQuery, CrossoverMoviesQueryVariables>;","import { Select, Spin } from 'antd';\nimport React, { useEffect, useState } from 'react';\n\nimport { ActorSearchResult, useActorSearchQuery } from '../../generated/graphql';\n\nimport './ActorSearch.css';\n\ninterface IProps {\n  onActorSelect: (result: ActorSearchResult) => void;\n}\n\nexport const ActorSearch = ({ onActorSelect }: IProps) => {\n  const [searchInput, setSearchInput] = useState('');\n  const [options, setOptions] = useState<{ key: number, value: number, label: string }[]>([]);\n\n  const { loading, data } = useActorSearchQuery({\n    variables: { queryString: searchInput },\n    skip: searchInput.length <= 2\n  });\n\n  useEffect(() => {\n    if (data?.actorSearch.results) {\n      setOptions(data.actorSearch.results.map(actorSearchResult => {\n        return {\n          key: actorSearchResult.id,\n          value: actorSearchResult.id,\n          label: actorSearchResult.name\n        };\n      }));\n    }\n  }, [data]);\n\n  function onSelect(value: number) {\n    const actorSearchResult = data?.actorSearch.results.find(actorSearchResult => {\n      return actorSearchResult.id === value;\n    });\n\n    if (actorSearchResult) {\n      onActorSelect(actorSearchResult);\n    }\n  }\n\n  return (\n    <Select\n      searchValue={searchInput}\n      onSearch={(value) => setSearchInput(value)}\n      onSelect={onSelect}\n      options={options}\n      loading={loading}\n      showSearch={true}\n      filterOption={false}\n      optionLabelProp=\"label\"\n      notFoundContent={loading ? <Spin size=\"small\" /> : null}\n      placeholder=\"Search for actors\"\n      style={{ width: '100%' }}\n    />\n  );\n}\n","import React from 'react';\n\nimport { CrossoverMovie, MovieCastCredit } from '../../generated/graphql';\n\ntype MovieWithCredits = Omit<CrossoverMovie, 'crossoverCredits'> & {\n  crossoverCredits: Array<Pick<MovieCastCredit, 'actorId' | 'characterName'>>\n};\n\ninterface IProps {\n  movies: MovieWithCredits[];\n}\n\nexport const CrossoverMovies = ({ movies }: IProps) => {\n  function formatMovie(movie: MovieWithCredits) {\n    const credits = movie.crossoverCredits.map(credit => {\n      return `Actor ID: ${credit.actorId}, Character Name: ${credit.characterName}`;\n    });\n\n    return `Title: ${movie.title}, credits: ${credits}`;\n  }\n\n  return (\n    <ul>\n      {movies.map(movie => (\n        <li key={movie.id}>\n          {formatMovie(movie)}\n        </li>\n      ))}\n    </ul>\n  );\n}\n","import { Button, Col, Layout, Row, Space } from 'antd';\nimport { ApolloClient, InMemoryCache } from '@apollo/client';\nimport { ApolloProvider } from '@apollo/client/react';\nimport React, { useState } from 'react';\n\nimport { ActorSearch } from './components/actor-search';\nimport { CrossoverMovies } from './components/crossover-movies';\nimport { ActorSearchResult, useCrossoverMoviesLazyQuery } from './generated/graphql';\n\nimport './App.css';\n\nconst client = new ApolloClient({\n  uri: process.env.REACT_APP_GQL_API_URL,\n  cache: new InMemoryCache()\n});\n\nconst App = () => {\n  const [selectedActors, setSelectedActors] = useState<ActorSearchResult[]>([]);\n\n  const [getCrossoverMovies, { loading, error, data }] = useCrossoverMoviesLazyQuery({\n    client: client\n  });\n\n  function onActorSelect(actorSearchResult: ActorSearchResult) {\n    setSelectedActors([\n      ...selectedActors,\n      actorSearchResult\n    ]);\n  }\n\n  function selectedActorIds() {\n    return selectedActors.map(({ id }) => id);\n  }\n\n  return (\n    <ApolloProvider client={client}>\n      <Layout>\n        <Layout.Header>\n          <h1 style={{ margin: 0, color: 'white' }}>\n            Actors-Crossover\n          </h1>\n        </Layout.Header>\n\n        <Layout.Content style={{ padding: '40px 50px' }}>\n          <Row gutter={16}>\n            <Col xs={24} md={12}>\n              <div className=\"search\">\n                <h3>Select one or more actors</h3>\n\n                <ActorSearch\n                  onActorSelect={onActorSelect}\n                />\n\n                <ul>\n                  {selectedActors.map(actorSearchResult => (\n                    <li key={actorSearchResult.id}>\n                      {actorSearchResult.name} (ID: {actorSearchResult.id})\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </Col>\n\n            <Col xs={24} md={12}>\n              <div className=\"results\">\n                <Button\n                  type=\"primary\"\n                  disabled={selectedActors.length <= 1}\n                  loading={loading}\n                  onClick={() => getCrossoverMovies({ variables: { actorIds: selectedActorIds() } })}\n                >\n                  Find Movies\n                </Button>\n\n                {loading && (<p>loading...</p>)}\n\n                {error && (<p>error: {error}</p>)}\n\n                {data?.crossoverMovies && (\n                  <CrossoverMovies\n                    movies={data.crossoverMovies}\n                  />\n                )}\n              </div>\n            </Col>\n          </Row>\n        </Layout.Content>\n\n        <Layout.Footer style={{ textAlign: 'center' }}>\n          <Space direction=\"vertical\">\n            <h4>Powered by The Movie Database API</h4>\n\n            <a href=\"https://www.themoviedb.org\" target=\"_blank\" rel=\"noreferrer\">\n              <img\n                alt=\"Powered by The Movie DB\"\n                src=\"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_1-5bdc75aaebeb75dc7ae79426ddd9be3b2be1e342510f8202baf6bffa71d7f5c4.svg\"\n                style={{ width: '240px', height: 'auto' }}\n              />\n            </a>\n          </Space>\n         </Layout.Footer>\n      </Layout>\n    </ApolloProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}